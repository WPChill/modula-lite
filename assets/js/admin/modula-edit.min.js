!function(e){"use strict";e(document).ready((function(){e(".modula-no-drag #normal-sortables, .modula-no-drag #side-sortables").off(),e(".modula-feedback-notice .notice-dismiss").click((function(l){l.preventDefault();var o=e(this).parent();e.ajax({method:"POST",url:ajaxurl,data:{action:"modula-edit-notice"}}).done((function(e){o.remove()}))})),e(".copy-modula-shortcode").click((function(l){l.preventDefault();var o=e(this).parent().find("input");o.focus(),o.select(),document.execCommand("copy"),e(this).next("span").text("Shortcode copied"),e(".copy-modula-shortcode").not(e(this)).parent().find("span").text("")})),e("body").on("click","#modula-lightbox-upgrade .notice-dismiss",(function(l){l.preventDefault();var o=e(this).parent(),a={action:"modula_lbu_notice",nonce:modulaHelper._wpnonce};e.post(modulaHelper.ajax_url,a,(function(e){o.remove()}))}))}));const l=l=>{l.preventDefault();const a=l.data.upsell;e.get(modulaHelper.ajax_url,{action:"modula_modal-"+a+"_upgrade"},(l=>{e("body").addClass("modal-open"),e("body").append(l),e(document).one("click",".modula-modal__overlay."+a,{upsell:a},o),e(document).one("click",".modula-modal__dismiss."+a,{upsell:a},o)}))},o=l=>{const o=l.data.upsell;e(".modula-modal__overlay."+o).remove(),e("body").removeClass("modal-open")};e("body").on("click",'#adminmenu #menu-posts-modula-gallery ul li a[href="edit.php?post_type=modula-gallery&page=#modula-albums"]',{upsell:"albums"},l),e("body").on("click",'#adminmenu #menu-posts-modula-gallery ul li a[href="edit.php?post_type=modula-gallery&page=#gallery-defaults"]',{upsell:"gallery-defaults"},l),e("body").on("click",'#adminmenu #menu-posts-modula-gallery ul li a[href="edit.php?post_type=modula-gallery&page=#albums-defaults"]',{upsell:"albums-defaults"},l),e("body").on("click",'#adminmenu #menu-posts-modula-gallery ul li a[href="edit.php?post_type=modula-gallery&page=#image-proofing-upsell"]',{upsell:"image-proofing"},l),e("body").on("click",'#adminmenu #menu-posts-modula-gallery ul li a[href="edit.php?post_type=modula-gallery&page=go-pro"]',(function(e){e.preventDefault(),window.open("https://wp-modula.com/pricing/?utm_source=modula-lite&utm_medium=admin-menu&utm_campaign=upsell","_blank")})),e("body").on("click",'#adminmenu #menu-posts-modula-gallery ul li a[href="edit.php?post_type=modula-gallery&page=#modula-licenses"]',{upsell:"image-licensing"},l),e("body").on("click","#modula-pro-bulk-editor-upsell .button",{upsell:"bulk-editor"},l),e("body").on("click","#modula-content-galleries-upsell",{upsell:"content-galleries"},l),e("body").on("click","#modula-instagram-upsell",{upsell:"instagram"},l),e("body").on("click","#modula-video-upsell, #modula-video-playlist-upsell",{upsell:"video"},l),jQuery(window).on("load",(function(){let e=new URLSearchParams(window.location.search);e.has("page")&&"modula-lite-vs-pro"===e.get("page")&&e.has("extension")&&jQuery("html,body").animate({scrollTop:jQuery(".wpchill-plans-table.wpchill-highlight").offset().top-150},600)}));const a=()=>{const e=document.getElementById("side-sortables"),l=document.getElementById("submitdiv");if(!l||!e)return;const o=l.offsetTop+100,a="is-sticky";window.scrollY>=o?e.classList.add(a):e.classList.remove(a)};window.addEventListener("scroll",a),a()}(jQuery),function(e){var l={},o={};l.on=function(e,l){o[e]||(o[e]=[]),o[e].push(l)},l.off=function(e,l){o[e]&&(o[e]=o[e].filter((function(e){return e!==l})))},l.emit=function(e,l){o[e]&&o[e].forEach((function(e){e(l)}))},e.modulaEventBus=l}(this);