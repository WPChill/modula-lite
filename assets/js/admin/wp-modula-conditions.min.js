wp.Modula=void 0===wp.Modula?{}:wp.Modula,jQuery.fn.setting_state=function(t,a){"off"==a&&(this.css("opacity","0.5"),this.find("input, textarea, select, button").addClass("modula-no-pointer")),"on"==a&&(this.css("opacity","1"),this.find("input, textarea, select, button").removeClass("modula-no-pointer"))};var modulaGalleryConditions=Backbone.Model.extend({initialize:function(t){var a=jQuery(".modula-settings-container tr[data-container]"),e=jQuery(".modula-tabs .modula-tab");this.set("rows",a),this.set("tabs",e);var i=jQuery('.modula-settings-container tr[data-container="grid_image_size"] .modula-imagesizes-infos .modula-imagesize-info');this.set("imagesizes",i),this.initEvents(),this.initValues()},initEvents:function(){this.listenTo(wp.Modula.Settings,"change:type",this.changedType),this.listenTo(wp.Modula.Settings,"change:effect",this.changedEffect),this.listenTo(wp.Modula.Settings,"change:lightbox",this.changedLightbox),this.listenTo(wp.Modula.Settings,"change:enableSocial",this.enableSocial),this.listenTo(wp.Modula.Settings,"change:enableEmail",this.enableEmail),this.listenTo(wp.Modula.Settings,"change:enable_responsive",this.changedResponsiveness),this.listenTo(wp.Modula.Settings,"change:hide_title",this.hideTitle),this.listenTo(wp.Modula.Settings,"change:hide_description",this.hideCaption),this.listenTo(wp.Modula.Settings,"change:grid_type",this.changedGridType),this.listenTo(wp.Modula.Settings,"change:grid_image_size",this.changedGridImageSize),this.listenTo(wp.Modula.Settings,"toggleAccordeon:enableSocial",this.toggleSocial),this.listenTo(wp.Modula.Settings,"change:cursor",this.changeCursor)},initValues:function(){this.changedType(!1,wp.Modula.Settings.get("type")),this.changedLightbox(!1,wp.Modula.Settings.get("lightbox")),this.enableSocial(!1,wp.Modula.Settings.get("enableSocial")),this.enableEmail(!1,wp.Modula.Settings.get("enableEmail")),this.changedResponsiveness(!1,wp.Modula.Settings.get("enable_responsive")),this.hideTitle(!1,wp.Modula.Settings.get("hide_title")),this.hideCaption(!1,wp.Modula.Settings.get("hide_description")),this.changedGridType(!1,wp.Modula.Settings.get("grid_type")),this.changedGridImageSize(!1,wp.Modula.Settings.get("grid_image_size")),this.changeCursor(!1,wp.Modula.Settings.get("cursor"))},changedType:function(t,a){var e=this.get("rows"),i=this.get("tabs");"custom-grid"==a?(i.filter('[data-tab="modula-responsive"]').show(),e.filter('[data-container="columns"], [data-container="gutter"]').setting_state(this,"on"),e.filter('[data-container="width"], [data-container="height"], [data-container="randomFactor"], [data-container="shuffle"]').setting_state(this,"off"),e.filter('[data-container="width"], [data-container="height"], [data-container="randomFactor"], [data-container="shuffle"]').hide(),e.filter('[data-container="maxImagesCount"]').setting_state(this,"on"),e.filter('[data-container="grid_type"], [data-container="grid_row_height"], [data-container="grid_max_row_height"], [data-container="grid_row_height"], [data-container="grid_justify_last_row"]').hide(),e.filter('[data-container="grid_type"], [data-container="grid_row_height"], [data-container="grid_max_row_height"], [data-container="grid_row_height"], [data-container="grid_justify_last_row"]').setting_state(this,"off")):"creative-gallery"==a?(i.filter('[data-tab="modula-responsive"]').hide(),e.filter('[data-container="columns"]').setting_state(this,"off"),e.filter('[data-container="width"], [data-container="height"], [data-container="randomFactor"], [data-container="shuffle"]').setting_state(this,"on"),e.filter('[data-container="width"], [data-container="height"], [data-container="randomFactor"], [data-container="shuffle"]').show(),e.filter('[data-container="height"],  [data-container="gutter"], [data-container="shuffle"], [data-container="showAllOnLightbox"],[data-container="maxImagesCount"]').setting_state(this,"on"),e.filter('[data-container="grid_type"], [data-container="grid_row_height"], [data-container="grid_max_row_height"], [data-container="grid_row_height"], [data-container="grid_justify_last_row"]').hide(),e.filter('[data-container="grid_type"], [data-container="grid_row_height"], [data-container="grid_max_row_height"], [data-container="grid_row_height"], [data-container="grid_justify_last_row"]').setting_state(this,"off")):"grid"==a?(e.filter('[data-container="grid_type"], [data-container="width"],[data-container="grid_row_height"], [data-container="grid_max_row_height"], [data-container="grid_row_height"], [data-container="grid_justify_last_row"], [data-container="gutter"],[data-container="maxImagesCount"],[data-container="shuffle"]').show(),e.filter('[data-container="grid_type"], [data-container="width"],[data-container="grid_row_height"], [data-container="grid_max_row_height"], [data-container="grid_row_height"], [data-container="grid_justify_last_row"], [data-container="gutter"],[data-container="maxImagesCount"],[data-container="shuffle"]').setting_state(this,"on"),e.filter('[data-container="height"], [data-container="randomFactor"]').setting_state(this,"off"),e.filter('[data-container="height"], [data-container="randomFactor"]').hide(),i.filter('[data-tab="modula-responsive"]').show(),this.changedGridType(!1,wp.Modula.Settings.get("grid_type"))):(e.filter('[data-container="grid_type"],  [data-container="grid_row_height"], [data-container="grid_max_row_height"], [data-container="grid_row_height"], [data-container="grid_justify_last_row"]').setting_state(this,"off"),e.filter('[data-container="grid_type"],  [data-container="grid_row_height"], [data-container="grid_max_row_height"], [data-container="grid_row_height"], [data-container="grid_justify_last_row"]').hide(),e.filter('[data-container="randomFactor"],[data-container="shuffle"]').show(),e.filter('[data-container="randomFactor"],[data-container="shuffle"]').setting_state(this,"on")),this.changedGridImageSize(!1,wp.Modula.Settings.get("grid_image_size"))},changeCursor:function(t,a){"custom"!=a&&jQuery(".modula-effects-preview > div").css("cursor",wp.Modula.Settings.get("cursor"))},changedLightbox:function(t,a){var e=this.get("rows"),i=this.get("tabs");"fancybox"==a?(e.filter('[data-container="show_navigation"],[data-container="lightbox_keyboard"]').setting_state(this,"on"),i.filter('[data-tab="modula-exif"],[data-tab="modula-zoom"]').show()):(e.filter('[data-container="show_navigation"],[data-container="lightbox_keyboard"]').setting_state(this,"off"),i.filter('[data-tab="modula-exif"],[data-tab="modula-zoom"]').hide())},changedEffect:function(t,a){var e=jQuery(".modula-effects-preview > div");e.setting_state(this,"off"),e.filter(".panel-"+a).setting_state(this,"on")},enableSocial:function(t,a){var e=this.get("rows").filter('[data-container="enableSocial"]'),i=e.data("children");jQuery.each(i,(function(t,i){var n=jQuery('[data-container="'+i+'"]');0==a&&e.hasClass("modula_accordion_open")?(n.setting_state(this,"off"),n.show()):0==a?n.hide():(n.setting_state(this,"on"),n.show())})),0!=a&&e.addClass("modula_accordion_open"),this.enableEmail(!1,wp.Modula.Settings.get("enableEmail"))},toggleSocial:function(){var t=this.get("rows"),a=t.filter('[data-container="enableSocial"]'),e=t.filter('[data-container="enableEmail"]'),i=e.data("children");a.hasClass("modula_accordion_open")||(jQuery.each(i,(function(t,a){jQuery('[data-container="'+a+'"]').hide()})),e.hasClass("modula_accordion_open")&&e.removeClass("modula_accordion_open"))},enableEmail:function(t,a){var e=this.get("rows"),i=e.filter('[data-container="enableEmail"]'),n=(e.filter('[data-container="enableSocial"]'),i.data("children"));jQuery.each(n,(function(t,e){var n=jQuery('[data-container="'+e+'"]');0!=a&&0!=wp.Modula.Settings.get("enableSocial")||!i.hasClass("modula_accordion_open")?0==a||0==wp.Modula.Settings.get("enableSocial")?n.hide():(n.css("opacity","1"),n.find("input, textarea, select, button").removeAttr("disabled"),n.show()):(n.setting_state(this,"off"),n.show())})),1==a&&1==wp.Modula.Settings.get("enableSocial")&&i.addClass("modula_accordion_open")},changedResponsiveness:function(t,a){var e=this.get("rows").filter('[data-container="enable_responsive"]'),i=e.data("children");jQuery.each(i,(function(t,i){var n=jQuery('[data-container="'+i+'"]');0==a&&e.hasClass("modula_accordion_open")?(n.setting_state(this,"off"),n.show()):0==a?n.hide():(n.css("opacity","1"),n.find("input, textarea, select, button").removeAttr("disabled"),n.show())})),1==a&&e.addClass("modula_accordion_open")},hideTitle:function(t,a){var e=this.get("rows").filter('[data-container="hide_title"]'),i=e.data("children");e.addClass("modula_accordion_reversed"),jQuery.each(i,(function(t,i){var n=jQuery('[data-container="'+i+'"]');1==a&&e.hasClass("modula_accordion_open")?(n.setting_state(this,"off"),n.show()):1==a?n.hide():(n.css("opacity","1"),n.find("input, textarea, select, button").removeAttr("disabled"),n.show())})),1!=a&&e.addClass("modula_accordion_open")},hideCaption:function(t,a){var e=this.get("rows").filter('[data-container="hide_description"]'),i=e.data("children");e.addClass("modula_accordion_reversed"),jQuery.each(i,(function(t,i){var n=jQuery('[data-container="'+i+'"]');1==a&&e.hasClass("modula_accordion_open")?(n.setting_state(this,"off"),n.show()):1==a?n.hide():(n.css("opacity","1"),n.find("input, textarea, select, button").removeAttr("disabled"),n.show())})),1!=a&&e.addClass("modula_accordion_open")},changedGridType:function(t,a){var e=this.get("rows"),i=this.get("tabs");"grid"==wp.Modula.Settings.get("type")&&("automatic"==a||""==a?(e.filter(' [data-container="grid_row_height"], [data-container="grid_max_row_height"], [data-container="grid_justify_last_row"], [data-container="gutter"]').setting_state(this,"on"),i.filter('[data-tab="modula-responsive"]').hide()):(e.filter(' [data-container="grid_row_height"], [data-container="grid_max_row_height"], [data-container="grid_justify_last_row"]').setting_state(this,"off"),e.filter('[data-container="grid_type"],[data-container="gutter"]').setting_state(this,"on"),i.filter('[data-tab="modula-responsive"]').show()))},changedGridImageSize:function(t,a){let e=this.get("rows"),i=this.get("imagesizes");"custom-grid"==wp.Modula.Settings.get("type")?"custom"==a?(e.filter('[data-container="grid_image_dimensions"], [data-container="grid_image_crop"]').hide(),e.filter('[data-container="img_size"], [data-container="img_crop"]').show(),e.filter('[data-container="img_size"], [data-container="img_crop"]').setting_state(this,"on")):(e.filter('[data-container="grid_image_dimensions"], [data-container="grid_image_crop"]').hide(),e.filter('[data-container="img_size"], [data-container="img_crop"]').show(),e.filter('[data-container="img_size"], [data-container="img_crop"]').setting_state(this,"off")):"custom"==wp.Modula.Settings.get("grid_image_size")?(e.filter('[data-container="img_size"], [data-container="img_crop"]').hide(),e.filter('[data-container="grid_image_dimensions"], [data-container="grid_image_crop"]').show(),e.filter('[data-container="grid_image_dimensions"], [data-container="grid_image_crop"]').setting_state(this,"on")):(e.filter('[data-container="img_size"], [data-container="img_crop"]').hide(),e.filter('[data-container="grid_image_dimensions"], [data-container="grid_image_crop"]').show(),e.filter('[data-container="grid_image_dimensions"], [data-container="grid_image_crop"]').setting_state(this,"off"));var n=i.filter('[data-size="'+a+'"]');i.hide(),n.length>0&&n.show()}});